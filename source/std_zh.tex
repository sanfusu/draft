%% main file for the C++ standard.
%%

%%--------------------------------------------------
%% basics
\documentclass[a4paper,10pt,oneside,openany,final]{memoir}


\usepackage[american]
           {babel}        % needed for iso dates
\usepackage[iso,american]
           {isodate}      % use iso format for dates
\usepackage[final]
           {listings}     % code listings
\usepackage{longtable}    % auto-breaking tables
\usepackage{ltcaption}    % fix captions for long tables
\usepackage{relsize}      % provide relative font size changes
\usepackage{textcomp}     % provide \text{l,r}angle
\usepackage{underscore}   % remove special status of '_' in ordinary text
\usepackage{parskip}      % handle non-indented paragraphs "properly"
\usepackage{array}        % new column definitions for tables
\usepackage[normalem]{ulem}
\usepackage{enumitem}
\usepackage{color}        % define colors for strikeouts and underlines
\usepackage{amsmath}      % additional math symbols
\usepackage{mathrsfs}     % mathscr font
\usepackage[final]{microtype}
\usepackage{multicol}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[pdftex, final]{graphicx}
\usepackage[UTF8]{ctex}    
\usepackage[pdftex,
            unicode=true,
            pdftitle={C++ International Standard},
            pdfsubject={C++ International Standard},
            pdfcreator={Richard Smith},
            bookmarks=true,
            bookmarksnumbered=true,
            pdfpagelabels=true,
            pdfpagemode=UseOutlines,
            pdfstartview=FitH,
            linktocpage=true,
            colorlinks=true,
            linkcolor=blue,
            plainpages=false
           ]{hyperref}
\usepackage{memhfixc}     % fix interactions between hyperref and memoir
\usepackage[active,header=false,handles=false,copydocumentclass=false,generate=std-gram.ext,extract-cmdline={gramSec},extract-env={bnftab,simplebnf,bnf,bnfkeywordtab}]{extract} % Grammar extraction

\pdfminorversion=5
\pdfcompresslevel=9
\pdfobjcompresslevel=2

\renewcommand\RSsmallest{5.5pt}  % smallest font size for relsize

\input{layout}
\input{styles}
\input{macros}
\input{tables}

\makeindex[generalindex]
\makeindex[headerindex]
\makeindex[libraryindex]
\makeindex[grammarindex]
\makeindex[impldefindex]
\makeglossary[xrefindex]
\makeglossary[xrefdelta]

%%--------------------------------------------------
%% fix interaction between hyperref and other
%% commands
\pdfstringdefDisableCommands{\def\smaller#1{#1}}
\pdfstringdefDisableCommands{\def\textbf#1{#1}}
\pdfstringdefDisableCommands{\def\raisebox#1{}}
\pdfstringdefDisableCommands{\def\hspace#1{}}

%%--------------------------------------------------
%% add special hyphenation rules
\hyphenation{tem-plate ex-am-ple in-put-it-er-a-tor name-space name-spaces non-zero}

%%--------------------------------------------------
%% turn off all ligatures inside \texttt
\DisableLigatures{encoding = T1, family = tt*}

\begin{document}
\chapterstyle{cppstd}
\pagestyle{cpppage}

%%--------------------------------------------------
%% configuration
\input{config-zh}

%%--------------------------------------------------
%% front matter
\frontmatter
\include{front-zh}

%%--------------------------------------------------
%% main body of the document
\mainmatter
\setglobalstyles

\include{intro-zh}
\include{lex-zh}
\include{basic-zh}
\include{conversions-zh}
\include{expressions-zh}
\include{statements-zh}
\include{declarations-zh}
\include{declarators-zh}
\include{classes-zh}
\include{derived-zh}
\include{access-zh}
\include{special-zh}
\include{overloading-zh}
\include{templates-zh}
\include{exceptions-zh}
\include{preprocessor-zh}
\include{lib-intro-zh}
\include{support-zh}
\include{diagnostics-zh}
\include{utilities-zh}
\include{strings-zh}
\include{locales-zh}
\include{containers-zh}
\include{iterators-zh}
\include{algorithms-zh}
\include{numerics-zh}
\include{iostreams-zh}
\include{regex-zh}
\include{atomics-zh}
\include{threads-zh}

%%--------------------------------------------------
%% appendices
\appendix
\include{grammar-zh}
\include{limits-zh}
\include{compatibility-zh}
\include{future-zh}

%%--------------------------------------------------
%% back matter
\backmatter
\include{back-zh}


%%--------------------------------------------------
%% End of document
\end{document}
